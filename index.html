<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="dungeonBuilder" ng-controller="main">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Dungeon Builder</title>
    <script src="https://code.jquery.com/jquery-3.1.0.slim.min.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
    <script src="ui-bootstrap-tpls-2.1.3.min.js" type="text/javascript"></script>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment.min.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.5.0/fabric.min.js" type="text/javascript"></script>
    <script src="controller.js" type="text/javascript"></script>
    <link href='css/style.css' rel='stylesheet' type='text/css'>
  </head>
  <body style='background-color: #FFFFFF;'>
    <uib-tabset>
        <uib-tab heading="Minions">
            <div class="unitBox">
              Word of your dungeon has spread far and wide. Your reputation allows you to recruit minions, monsters and acolytes to improve your dungeon.<br/>
              You currently have <span ng-bind="reputation"></span> reputation.</br>
              You earn <span ng-bind="reputationRate"></span> reputation per second.<br />
              Space: <span id="population" ng-bind="population"></span>/<span id="maxPopulation" ng-bind="maxPopulation"></span><br/>
              Empty rooms: <span ng-bind="emptyRooms"></span><br />
            </div>
            <div class="unitBox">
              Minions dig additional rooms in your dungeon.<br/>
              Rooms limit how many units you can have.<br />
              Each class of minions is 4x as effective as the previous one.
              You currently have <span id="smallMinionCount" ng-bind="smallMinions"></span> small minions. They take up 5 space each.<br/>
              You currently have <span id="minionCount" ng-bind="minions"></span> minions. They take up 10 space each.<br/>
              You currently have <span id="bigMinionCount" ng-bind="bigMinions"></span> big minions. They take up 25 space each.<br/>
              Excavation progress:<br />
              <uib-progressbar value="roomProgressPercent">{{roomETA}} {{roomProgressPercentRounded}}%</uib-progressbar>
              Progress towards next small minion:<br />
              <uib-progressbar value="smallUnitProgressPercent">{{smallUnitETA}} {{smallUnitProgressPercentRounded}}%</uib-progressbar>
              Progress towards next minion:<br />
              <uib-progressbar value="unitProgressPercent">{{unitETA}} {{unitProgressPercentRounded}}%</uib-progressbar>
              Progress towards next big minion:<br />
              <uib-progressbar value="bigUnitProgressPercent">{{bigUnitETA}} {{bigUnitProgressPercentRounded}}%</uib-progressbar>
              Your dungeon has <span id="roomCount" ng-bind="rooms"></span> rooms.<br/>
              <button id="buyAllSmallMinions" ng-click="dungeon.buyAllSmallMinions()" ng-bind="buyAllSmallMinionsText">Buy All</button><button id="buySmallMinion" ng-click="dungeon.buySmallMinion()">Buy Mini-on</button><button id="sellSmallMinion" ng-click="dungeon.sellSmallMinion()">Dismiss Mini-on</button><br/>
              <button id="buyAllMinions" ng-click="dungeon.buyAllMinions()" ng-bind="buyAllMinionsText">Buy All</button><button id="buyMinion" ng-click="dungeon.buyMinion()">Buy Minion</button><button id="sellMinion" ng-click="dungeon.sellMinion()">Dismiss Minion</button><br/>
              <button id="buyAllBigMinions" ng-click="dungeon.buyAllBigMinions()" ng-bind="buyAllBigMinionsText">Buy All</button><button id="buyBigMinion" ng-click="dungeon.buyBigMinion()">Buy Big Minion</button><button id="sellBigMinion" ng-click="dungeon.sellBigMinion()">Dismiss Big Minion</button>
            </div>
            <div class="unitBox" style="float: top;">
                <button id='upgradeMinions' ng-click="dungeon.upgradeMinions()" ng-bind="upgradeMinionsText">Upgrade Minions</button><br/>
                Upgrading improves effectiveness of all minion units by 20%
            </div>
        </uib-tab>
        <uib-tab heading="Monsters">
            <div class="unitBox">
              Word of your dungeon has spread far and wide. Your reputation allows you to recruit minions, monsters and acolytes to improve your dungeon.<br/>
              You currently have <span ng-bind="reputation"></span> reputation.</br>
              You earn <span ng-bind="reputationRate"></span> reputation per second.<br />
              Space: <span id="population" ng-bind="population"></span>/<span id="maxPopulation" ng-bind="maxPopulation"></span><br/>
              Empty rooms: <span ng-bind="emptyRooms"></span><br />
            </div>
            <div class="unitBox">
              Monsters protect your dungeon, killing adventurers that enter. Of these, <span id="monsterActiveCount" ng-bind="monstersActive"></span> are active.<br/>
              You currently have <span id="smallMonsterCount" ng-bind="smallMonsters"></span> small Monsters. 4 hp, deal 1-8 dmg. They take up 5 space each.<br/>
              You currently have <span id="monsterCount" ng-bind="monsters"></span> monsters. 15 hp, deal 4-15 dmg. They take up 10 space each.<br>
              You currently have <span id="bigMonsterCount" ng-bind="bigMonsters"></span> big Monsters. 60 hp, deal 34-45 dmg. They take up 25 space each.<br/>
              Adventurers have 13 hp, deal 3-10 dmg.<br/>
              <b>THESE NUMBERS ARE TERRIBLE AND WILL BE REBALANCED.</b><br />
              Progress towards next small monster:<br />
              <uib-progressbar value="smallUnitProgressPercent">{{smallUnitETA}} {{smallUnitProgressPercentRounded}}%</uib-progressbar>
              Progress towards next monster:<br />
              <uib-progressbar value="unitProgressPercent">{{unitETA}} {{unitProgressPercentRounded}}%</uib-progressbar>
              Progress towards next big monster:<br />
              <uib-progressbar value="bigUnitProgressPercent">{{bigUnitETA}} {{bigUnitProgressPercentRounded}}%</uib-progressbar>
              <button id="buyAllSmallMonsters" ng-click="dungeon.buyAllSmallMonsters()" ng-bind="buyAllSmallMonstersText">Buy All</button><button id="buySmallMonster" ng-click="dungeon.buySmallMonster()">Buy Small Monster</button><button id="sellSmallMonster" ng-click="dungeon.sellSmallMonster()">Dismiss Small Monster</button><br/>
              <button id="buyAllMonsters" ng-click="dungeon.buyAllMonsters()" ng-bind="buyAllMonstersText">Buy All</button><button id="buyMonster" ng-click="dungeon.buyMonster()">Buy Monster</button><button id="sellMonster" ng-click="dungeon.sellMonster()">Dismiss Monster</button><br/>
              <button id="buyAllBigMonsters" ng-click="dungeon.buyAllBigMonsters()" ng-bind="buyAllBigMonstersText">Buy All</button><button id="buyBigMonster" ng-click="dungeon.buyBigMonster()">Buy Big Monster</button><button id="sellBigMonster" ng-click="dungeon.sellBigMonster()">Dismiss Big Monster</button>
            </div>
        </uib-tab>
        <uib-tab heading="Acolytes">
            <div class="unitBox">
              Word of your dungeon has spread far and wide. Your reputation allows you to recruit minions, monsters and acolytes to improve your dungeon.<br/>
              You currently have <span ng-bind="reputation"></span> reputation.</br>
              You earn <span ng-bind="reputationRate"></span> reputation per second.
              Space: <span id="population" ng-bind="population"></span>/<span id="maxPopulation" ng-bind="maxPopulation"></span><br/>
              Empty rooms: <span ng-bind="emptyRooms"></span><br />
            </div>
            <div class="unitBox">
              Acolytes go out and teach of your power, gaining you reputation.<br/>
              You currently have <span id="smallAcolyteCount" ng-bind="smallAcolytes"></span> small Acolytes, who earn you 2.5 rep/s. They take up 5 space each.<br/>
              You currently have <span id="acolyteCount" ng-bind="acolytes"></span> acolytes, who earn you 10 rep/s. They take up 10 space each.<br>
              You currently have <span id="bigAcolyteCount" ng-bind="bigAcolytes"></span> big Acolytes, who earn you 40 rep/s. They take up 25 space each.<br/>
              Progress towards next small acolyte:<br />
              <uib-progressbar value="smallUnitProgressPercent">{{smallUnitETA}} {{smallUnitProgressPercentRounded}}%</uib-progressbar>
              Progress towards next acolyte:<br />
              <uib-progressbar value="unitProgressPercent">{{unitETA}} {{unitProgressPercentRounded}}%</uib-progressbar>
              Progress towards next big acolyte:<br />
              <uib-progressbar value="bigUnitProgressPercent">{{bigUnitETA}} {{bigUnitProgressPercentRounded}}%</uib-progressbar>
            <button id="buyAllSmallAcolytes" ng-click="dungeon.buyAllSmallAcolytes()" ng-bind="buyAllSmallAcolytesText">Buy All</button><button id="buySmallAcolyte" ng-click="dungeon.buySmallAcolyte()">Buy Small Acolyte</button><button id="sellSmallAcolyte" ng-click="dungeon.sellSmallAcolyte()">Dismiss Small Acolyte</button><br/>
            <button id="buyAllAcolytes" ng-click="dungeon.buyAllAcolytes()"ng-bind="buyAllAcolytesText">Buy All</button><button id="buyAcolyte" ng-click="dungeon.buyAcolyte()">Buy Acolyte</button><button id="sellAcolyte" ng-click="dungeon.sellAcolyte()">Dismiss Acolyte</button><br/>
            <button id="buyAllBigAcolytes" ng-click="dungeon.buyAllBigAcolytes()" ng-bind="buyAllBigAcolytesText">Buy All</button><button id="buyBigAcolyte" ng-click="dungeon.buyBigAcolyte()">Buy Big Acolyte</button><button id="sellBigAcolyte" ng-click="dungeon.sellBigAcolyte()">Dismiss Big Acolyte</button>
            </div>
            <div class="unitBox" style="float: top;">
                <button id='upgradeAcolytes' ng-click="dungeon.upgradeAcolytes()" ng-bind="upgradeAcolytesText">Upgrade Acolytes</button><br />
                Upgrading improves effectiveness of all acolyte units by 20%
            </div>
        </uib-tab>
        <uib-tab heading="Adventurers">
            <div class="unitBox">
              <div>
                Adventurers are come to your dungeon hoping to steal your treasure. The more treasure you have the more likely adventurers are to come and try to steal it, so make sure to guard it well with monsters.
              </div>
              <span id="adventurerCount" ng-bind="adventurers"></span> adventurers have died in your dungeon.<br/>
              You have hoarded <span id="treasureCount" ng-bind="treasure"></span> treasures.
            </div>
        </uib-tab>
        <uib-tab heading="Rooms">
            <div class="unitBox" id="roomProgressPanel">
                Excavation progress:<br />
                <uib-progressbar value="roomProgressPercent">{{roomETA}} {{roomProgressPercentRounded}}%</uib-progressbar>
            </div>
            <div class="unitBox" id="roomsPanel" style="float: left;">
                SAMPLE TEXT
            </div>
            <div class="canvasContainer" id='mainCanvasContainer' style="width: 512px; height: 512px; float: left;">
                <canvas height='512' id='mainCanvas' width='512' style="float: left; width: 512px;"></canvas>
            </div>
        </uib-tab>
    </uib-tabset>
    <div style="position: absolute; bottom: 0; width: 400px">
    <div uib-alert id='alerts' style="width: 400px" ng-repeat="alert in alerts" ng-class="'alert-' + (alert.type || 'warning')" close="closeAlert($index)">{{alert.msg}}
    </div>
    </div>
    <div id='rightPanel' style="width: 512px; float: left;">
        <div id='narrationContainer' style="width: 512px; height: 300px; float: top; overflow: scroll;"></div>
    </div>
  </body>
</html>
